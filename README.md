# Vue 3 博客系统

一个基于 Vue 3 + Vite + Supabase 构建的现代化博客系统，支持文章发布、点赞、评论等功能。

## 项目功能

### 核心功能
- 📝 **文章发布与管理**：支持富文本编辑器（Quill），实时预览
- 🎨 **精美UI设计**：科技风暗色主题，玻璃拟态效果
- ❤️ **点赞功能**：用户可为文章点赞，支持取消点赞
- 💬 **评论系统**：完整的评论功能，支持评论管理
- 📊 **通知中心**：点赞和评论通知
- 🔍 **搜索与筛选**：支持按日期筛选文章
- 🤖 **AI文章总结**：集成Dify AI工作流，一键生成文章摘要



### 文章正文样式
文章正文区域采用无边框设计，具有以下特性：
- **无边框设计**：正文内容不再显示边框，营造更沉浸的阅读体验
- **精美排版**：
  - 适中的行高（1.8）和字号（15px）
  - 优化段落间距
  - 标题样式突出
  - 代码块背景色和圆角
  - 引用块左侧边框装饰
  - 表格样式美化
- **响应式图片**：自动适配宽度，带圆角效果
- **链接悬停效果**：hover 时颜色变化
- **半透明背景**：使用玻璃拟态效果，与主题风格一致

### 图片上传
- **存储位置**：Supabase Storage 的 `post-images` 存储桶
- **文件命名**：`{用户ID}_{时间戳}_{原文件名}`
- **访问权限**：公开访问，所有用户可查看
- **使用方式**：在编辑器中点击"📷 插入图片"按钮，选择图片即可上传并自动插入

### AI文章总结功能
- **功能位置**：文章详情页右下角固定按钮
- **工作流集成**：连接Dify AI工作流进行文章分析
- **使用方式**：点击"🤖 AI总结"按钮，等待AI生成文章摘要
- **结果显示**：总结结果以弹窗形式显示，可关闭
- **配置要求**：需要配置Dify API密钥和工作流ID



## 技术栈

- **前端框架**：Vue 3 (Composition API)
- **构建工具**：Vite
- **后端服务**：Supabase (PostgreSQL + Auth + Storage)
- **富文本编辑器**：Quill (@vueup/vue-quill)
- **路由管理**：Vue Router
- **样式处理**：原生 CSS + CSS 变量




## 使用说明

1. **创建文章**：点击右下角的"新增博客"按钮，填写标题和内容
2. **编辑文章**：在文章详情页，如果你是作者，可以点击"编辑"按钮修改文章
3. **点赞和评论**：在文章详情页，可以点赞文章或发表评论
4. **查看通知**：在导航栏点击"通知"查看点赞和评论通知
5. **筛选文章**：在首页左侧可以使用日期筛选器按日期查看文章

## 项目结构

```
src/
├── assets/          # 样式文件
├── components/      # 通用组件
├── lib/            # Supabase 配置
├── pages/          # 页面组件
│   ├── Home.vue    # 首页（文章列表）
│   ├── PostDetail.vue  # 文章详情页
│   ├── Login.vue   # 登录页
│   └── ...
└── router/         # 路由配置
```

## 最新更新

### 关注功能（最新）
- ✅ **用户关注系统**：完整的用户关注功能，支持关注/取消关注
- ✅ **关注数据展示**：在个人主页显示关注数和粉丝数
- ✅ **关注按钮**：在他人主页显示关注按钮，支持实时状态切换
- ✅ **关注列表弹窗**：点击关注/粉丝数可查看列表（基础框架）
- ✅ **关注页面**：新增关注页面，显示已关注用户的文章动态
- ✅ **导航栏集成**：在导航栏热榜按钮旁添加关注按钮
- ✅ **数据库设计**：创建了 `user_follows` 表，支持唯一约束和自关联检查
- ✅ **权限控制**：完善的RLS策略，确保数据安全
- ✅ **错误处理**：完善的关注操作错误提示

### AI文章总结功能
- ✅ **Dify AI集成**：新增与Dify工作流的集成，支持AI文章总结
- ✅ **固定按钮位置**：在文章详情页右下角添加AI总结按钮
- ✅ **响应式设计**：AI总结面板适配移动端和桌面端
- ✅ **加载状态**：显示总结过程中的加载状态
- ✅ **错误处理**：完善的错误提示和异常处理
- ✅ **配置管理**：支持环境变量配置Dify API参数

### 图片上传功能
- ✅ 新增和编辑文章时可插入图片（两种方式）
- ✅ **粘贴图片自动上传**：从剪贴板直接粘贴图片到编辑器，自动上传到存储桶
- ✅ **手动上传图片**：点击"插入图片"按钮选择文件上传
- ✅ 图片上传到 Supabase Storage 的 `post-images` 存储桶
- ✅ 支持常见图片格式（JPG、PNG、GIF、WebP等）
- ✅ 文件大小限制为 5MB
- ✅ 上传后自动插入图片到编辑器
- ✅ 图片自动添加响应式样式（max-width: 100%）
- ✅ 上传过程中显示加载状态和错误提示

### 编辑器优化
- ✅ 移除新增和编辑文章时的预览功能，简化界面
- ✅ 增强编辑器宽度限制，防止边框拉伸
- ✅ 添加强制换行规则，连续字符会自动换行

### 白天模式主题适配修复
- ✅ 修复了白天模式下正文区域背景色未同步的问题
- ✅ 正文背景在白天模式下使用白色半透明背景
- ✅ 代码块和行内代码在白天模式下使用浅色背景
- ✅ 引用块文字颜色在白天模式下更加清晰
- ✅ 预览区域也正确适配白天模式

### 正文样式优化
- ✅ 移除了文章正文区域的边框，提供更沉浸的阅读体验
- ✅ 优化了正文内容的排版，包括标题、段落、列表、代码块等
- ✅ 添加了图片圆角效果和响应式适配
- ✅ 美化了链接、引用块、表格等元素的样式
- ✅ 统一了首页预览和详情页的正文样式
- ✅ 完美支持暗色和白天两种主题模式
